#!/bin/bash

# Check difference (chkdif) script by Murray Estes
# Simple script for checking for differences between two files
# Usage: chkdif <file1> <file2>

OPT=""
while getopts ":ys" opt; do
	case ${opt} in
		y ) OPT="$OPT --side-by-side"
			;;
		s ) OPT="$OPT --suppress-common-lines"
			;;
		\? ) echo "Error: Invalid option passed"
		     echo "Usage: chkdif [-s][-y] <file1><file2>"
		     exit 1
			;;
	esac
done

shift $((OPTIND - 1))
if [ $# -lt 2 ]
then
	echo "Error: Insufficient files for comparison"
	echo "Usage: chkdif [options] <file1> <file2>"
	exit 1
fi

CMD=$(diff $OPT $@)

if [ -z "$CMD" ]
then
	echo "Files Match."
else
	echo "$CMD"
fi
